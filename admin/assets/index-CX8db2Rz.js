import{r as o,k as A,j as e,B as r}from"./index-BcqdftdP.js";import{a as i,c as P}from"./index.esm-BKUXAliJ.js";import{C as q,F as b,f as E,a as S}from"./index-HPodNBnl.js";import{c as _,s as B,d as I}from"./data.service-ffJuRdEv.js";import{C as H,a as U}from"./CRow-Cya03wUQ.js";import{C as M,a as O}from"./CCardBody-DIMEChdw.js";import{C as $}from"./CCardHeader-dR3beWm2.js";import{C as z}from"./CFormInput-MGS3t6qN.js";import{C as K,a as L,b as C,c as l,d as W,e as n}from"./CTable-B19L0xpy.js";import{c as G}from"./cib-react-Djjz4A1D.js";import{C as J}from"./DefaultLayout-CWylPUmH.js";import{C as Q}from"./CFormSelect-rLu0lOBA.js";import"./auth.service-D9Cl8SD6.js";const de=()=>{const[N,w]=o.useState([]),[V,c]=o.useState(!1),[f,v]=o.useState(""),[d,u]=o.useState(1),[h,k]=o.useState(10),[m,T]=o.useState(1),D=async s=>{let t=new Array;s.forEach(a=>{t.push(a)}),w(t)},x=async()=>{c(!0);try{const s=await _(d,h,f);s.msg==="no-section"?(r.warning("There is no information!"),c(!1)):(await D(s.requests),T(s.pages),c(!1))}catch(s){r.error(s)}};o.useEffect(()=>{x()},[d,h,f]);const g=A(),F=s=>{g(s)},p=async(s,t)=>{try{let a=new FormData;Object.keys(s).forEach(y=>{a.append(y,s[y])}),a.set("allowed",t),c(!0);const j=await B(a);j.msg==="no-section"?(r.warning("There is no information!"),c(!1)):j.msg==="create"?(r.success("New Request was created!"),x()):j.msg==="update"&&(r.success("The Request information was updated!"),x())}catch(a){r.error(a.response.data)}},R=async s=>{try{c(!0);let t=new FormData;t.append("_id",s==null?void 0:s._id),t.append("imgUrl",s==null?void 0:s.imgUrl);const a=await I(t);a.msg==="no-section"?(r.warning("There is no information!"),c(!1)):a.msg==="delete"&&(r.success("Request was deleted successfully!"),x())}catch(t){r.error(t.response.data)}};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"AI Tools"}),e.jsx(H,{children:e.jsx(U,{xs:!0,children:e.jsxs(M,{className:"mb-4",children:[e.jsx($,{children:e.jsxs("div",{className:"d-flex flex-row justify-content-between",children:[e.jsx(z,{type:"text",placeholder:"Filter by All",onKeyDown:s=>{s.key==="Enter"&&v(s.target.value)},className:"form-control",style:{width:"10rem",left:"0"}}),e.jsx(i,{color:"success",className:"text-light",onClick:()=>{F("/tool_form")},children:"Add New AI Tool"})]})}),e.jsx(O,{children:e.jsxs(K,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[e.jsx(L,{className:"text-nowrap",children:e.jsxs(C,{children:[e.jsx(l,{className:"bg-body-tertiary text-center",children:e.jsx(P,{icon:G})}),e.jsx(l,{className:"bg-body-tertiary",children:"Name"}),e.jsx(l,{className:"bg-body-tertiary text-center",children:"Category"}),e.jsx(l,{className:"bg-body-tertiary",children:"Website"}),e.jsx(l,{className:"bg-body-tertiary",children:"Email"}),e.jsx(l,{className:"bg-body-tertiary",children:"Price"}),e.jsx(l,{className:"bg-body-tertiary text-center",children:"Allow/Deny"}),e.jsx(l,{className:"bg-body-tertiary text-center",children:"Edit"}),e.jsx(l,{className:"bg-body-tertiary text-center",children:"Delete"})]})}),e.jsx(W,{children:N.map((s,t)=>e.jsxs(C,{"v-for":"item in tableItems",children:[e.jsx(n,{className:"text-center",children:e.jsx(J,{size:"md",src:s.imgUrl})}),e.jsx(n,{children:e.jsx("div",{children:s.name})}),e.jsx(n,{className:"text-center",children:e.jsx("div",{children:s.category})}),e.jsx(n,{children:e.jsx("div",{className:"d-flex justify-content-between",children:e.jsx("div",{className:"fw-semibold",children:e.jsx("a",{className:"text-info form-link",target:"_blank",href:s.link,children:s.link})})})}),e.jsx(n,{children:e.jsx("div",{className:"d-flex justify-content-between",children:e.jsx("div",{className:"fw-semibold",children:e.jsx("a",{className:"text-success form-link",target:"_blank",href:`mailTo:${s.email}`,children:s.email})})})}),e.jsx(n,{children:e.jsx("div",{className:"text-danger",children:s.price})}),e.jsx(n,{className:"text-center",children:s.allowed?e.jsx(i,{color:"dark",className:"text-light",shape:"rounded-pill",onClick:()=>{p(s,!1)},children:"Deny"}):e.jsx(i,{color:"success",className:"text-light",shape:"rounded-pill",onClick:()=>{p(s,!0)},children:"Allow"})}),e.jsx(n,{className:"text-center",children:e.jsx(i,{color:"primary",className:"text-light",shape:"rounded-pill",onClick:()=>{g(`/tool_form/${s._id}`)},children:"Edit"})}),e.jsx(n,{className:"text-center",children:e.jsx(i,{color:"danger",className:"text-light",shape:"rounded-pill",onClick:()=>{R(s)},children:"Delete"})})]},t))})]})}),e.jsx(q,{children:e.jsxs("div",{className:"d-flex justify-content-center align-items-center",children:[e.jsxs(Q,{value:h,onChange:s=>k(Number(s.target.value)),className:"form-select position-absolute mx-1",style:{width:"5rem",left:"0"},children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"})]}),e.jsx(i,{onClick:()=>u(s=>Math.max(s-1,1)),disabled:d===1||m===0,className:"btn btn-secondary mx-2",children:e.jsx(b,{icon:E})}),e.jsxs("span",{children:["Page ",d," of ",m]}),e.jsx(i,{onClick:()=>u(s=>Math.min(s+1,m)),disabled:d===m||m===0,className:"btn btn-secondary mx-2",children:e.jsx(b,{icon:S})})]})})]})})})]})};export{de as default};
